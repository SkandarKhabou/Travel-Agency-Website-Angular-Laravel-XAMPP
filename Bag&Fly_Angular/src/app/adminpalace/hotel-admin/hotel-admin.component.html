<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h3 class="card-title">Hotel CRUD</h3>
          <div class="card-tools">
            <button type="button" class="btn btn-primary" (click)="toggleAddHotelModal()">Add Hotel</button>
          </div>
        </div>
        <div class="card-body">
          <table id="hotelTable" class="table table-bordered table-hover">
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Address</th>
                <th>Star Rating</th>
                <th>City</th>
                <th>Visitor Count</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let hotel of hotels">
                <td>{{hotel.id}}</td>
                <td>{{hotel.nomHotel}}</td>
                <td>{{hotel.adress}}</td>
                <td>{{hotel.nbEtoile}}</td>
                <td>{{hotel.ville}}</td>
                <td>{{hotel.nbVisiteur}}</td>
                <td>
                  <button type="button" class="btn btn-warning btn-sm" (click)="toggleEditHotelModal(hotel)">Edit</button>
                  <button type="button" class="btn btn-danger btn-sm" (click)="deleteHotel(hotel.id)">Delete</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="addVerif==1" class="popup">
  <div class="popup-content">
    <div class="modal-header">
      <h5 class="modal-title">Add Hotel</h5>
      <button type="button" class="close" (click)="addVerif=0">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form>
        <div class="form-group">
          <label for="hotelName">Name</label>
          <input type="text" class="form-control" id="hotelName" placeholder="Enter hotel name" name="hotelName" [(ngModel)]="newHotel!.nomHotel">
        </div>
        <div class="form-group">
          <label for="hotelAddress">Address</label>
          <input type="text" class="form-control" id="hotelAddress" placeholder="Enter hotel address" name="hotelAddress" [(ngModel)]="newHotel!.adress">
        </div>
        <div class="form-group">
          <label for="hotelStarRating">Star Rating</label>
          <input type="number" class="form-control" id="hotelStarRating" placeholder="Enter star rating" name="hotelStarRating" [(ngModel)]="newHotel!.nbEtoile">
        </div>
        <div class="form-group">
          <label for="hotelCity">City</label>
          <input type="text" class="form-control" id="hotelCity" placeholder="Enter city" name="hotelCity" [(ngModel)]="newHotel!.ville">
        </div>
        <div class="form-group">
          <label for="hotelVisitorCount">Visitor Count</label>
          <input type="number" class="form-control" id="hotelVisitorCount" placeholder="Enter visitor count" name="hotelVisitorCount" [(ngModel)]="newHotel!.nbVisiteur">
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="addVerif=0">Close</button>
      <button type="button" class="btn btn-primary" (click)="addHotel()">Save changes</button>
    </div>
  </div>
</div>
<div *ngIf="addVerif==2" class="popup">
  <div class="popup-content">
    <div class="modal-header">
      <h5 class="modal-title">Edit Hotel</h5>
      <button type="button" class="close" (click)="addVerif=0">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="formEdit">
        <input type="hidden" formControlName="id">
        <div class="form-group">
          <label for="editHotelName">Name</label>
          <input type="text" class="form-control" id="editHotelName" placeholder="Enter hotel name" formControlName="editHotelName">
        </div>
        <div class="form-group">
          <label for="editHotelAddress">Address</label>
          <input type="text" class="form-control" id="editHotelAddress" placeholder="Enter hotel address" formControlName="editHotelAddress">
        </div>
        <div class="form-group">
          <label for="editHotelStarRating">Star Rating</label>
          <input type="number" class="form-control" id="editHotelStarRating" placeholder="Enter star rating" formControlName="editHotelStarRating">
        </div>
        <div class="form-group">
          <label for="editHotelCity">City</label>
          <input type="text" class="form-control" id="editHotelCity" placeholder="Enter city" formControlName="editHotelCity">
        </div>
        <div class="form-group">
          <label for="editHotelVisitorCount">Visitor Count</label>
          <input type="number" class="form-control" id="editHotelVisitorCount" placeholder="Enter visitor count" formControlName="editHotelVisitorCount">
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary" (click)="addVerif=0">Close</button>
      <button type="button" class="btn btn-primary" (click)="editHotel()">Save changes</button>
    </div>
  </div>
</div>
